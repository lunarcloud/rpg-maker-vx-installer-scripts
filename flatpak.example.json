{
    "app-id": "com.mycompany.MyGame",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "18.08",
    "sdk": "org.freedesktop.Sdk",
    "command": "game.sh",
    "modules": [
        {
            "name": "game",
            "buildsystem": "simple",
            "build-commands": [
				"install -d /app/relativepath",
				"tar -C /app/relativepath -xvf gamedir.tar",
				"install -D game.sh /app/relativepath/game.sh",
				"install -d /app/bin",
				"echo '#!/bin/sh' > /app/bin/game.sh",
				"echo 'bash /app/relativepath/game.sh' >> /app/bin/game.sh",
				"chmod a+x /app/bin/game.sh",
				"install -D com.mycompany.MyGame.desktop /app/relativepath/com.mycompany.MyGame.desktop",
				"install -D mkxp.linux.conf /app/relativepath/mkxp.linux.conf",
				"install -D exeout /app/relativepath/exeout",
				"install -d /app/relativepath/libname",
				"tar -C /app/relativepath/libname -xvf lib.tar",
				"install -D script-dialog.sh /app/relativepath/script-dialog/script-dialog.sh",
				"install -D com.mycompany.MyGame.png /app/usr/share/pixmaps/com.mycompany.MyGame.png",
				"install -D 128x128.png /app/usr/share/icons/hicolor/128x128/apps/com.mycompany.MyGame.png",
				"install -D 256x256.png /app/usr/share/icons/hicolor/256x256/apps/com.mycompany.MyGame.png",
				"install -D 512x512.png /app/usr/share/icons/hicolor/512x512/apps/com.mycompany.MyGame.png"
            ],
            "sources": [
				{
					"type": "file",
					"path": "currentpath/gamedir.tar"
				},
				{
					"type": "file",
					"path": "currentpath/lib.tar"
				},
				{
					"type": "file",
					"path": "currentpath/script-dialog/script-dialog.sh",
					"dest-filename": "script-dialog.sh"
				},
				{
					"type": "file",
					"path": "currentpath/exename",
					"dest-filename": "exeout"
				},
				{
					"type": "file",
					"path": "currentpath/game.sh.temp",
					"dest-filename": "game.sh"
				},
				{
					"type": "file",
					"path": "currentpath/app.desktop.temp",
					"dest-filename": "com.mycompany.MyGame.desktop"
				},
				{
					"type": "file",
					"path": "currentpath/mkxp.linux.conf",
					"dest-filename": "mkxp.linux.conf"
				},
				{
					"type": "file",
					"path": "iconspath/com.mycompany.MyGame.png",
					"dest-filename": "com.mycompany.MyGame.png"
				},
				{
					"type": "file",
					"path": "iconspath/128x128.png",
					"dest-filename": "128x128.png"
				},
				{
					"type": "file",
					"path": "iconspath/256x256.png",
					"dest-filename": "256x256.png"
				},
				{
					"type": "file",
					"path": "iconspath/512x512.png",
					"dest-filename": "512x512.png"
				}
            ]
        }
    ],
    "finish-args": [
        "--socket=wayland",
        "--socket=x11",
        "--device=all",
        "--socket=pulseaudio",
        "--filesystem=home"
    ]
}
